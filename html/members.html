<!doctype html>
<html lang="en">

<head>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="/uconnusj.github.io/includes/includes.js"></script>
    <style id="includeStyle"></style>
</head>

<body>

    <!-- START NAV -->
    <div id="includeNavbar"></div>
    <!-- END NAV -->

    <!-- Members Pictures and Position -->
    <div id="members" style="width: 100%;"></div>
    <!-- END Members Pictures and Position -->

    <script src="members-info.js"></script>

    <script>
        function generateMemberCards(members) {
            member_image_path="/uconnusj.github.io/images/member_images/"
            html=""
            index = 0;

            html+=`
            <div class="container">
                <div class="card article promo-block">
                    <div class="card-content">
                        <h1 class="title is-1 article-title">Members</h1>
            `
            img_width="200px"
            img_height="350px"

            members.forEach(member => {
                console.log(index)

                if (index % 4 === 0) {
                    html += '<div class="tile is-ancestor has-text-centered">';
                }

                console.log(html)

                imageSrc=member.imageSrc
                if (imageSrc=="") {
                    imageSrc="BLANK.png";
                }

                positions="";
                if (typeof member.position=="string") {
                    positions=`<p class="subtitle is-5">${member.position}</p>`;
                }
                else {
                    for (idx in member.position) {
                        positions+=`<p class="subtitle">${member.position[idx]}</p>`
                    };
                }

                html +=
                    `
                    <section class="section">
                        <div class="tile is-vertical is-2">
                            <div class="card-image" style="width:${img_width}; height: ${img_height};">
                                <img src="${member_image_path}${imageSrc}" alt="${member.name}"; style="object-fit: cover; height: ${img_height};">
                            </div>
                            <div class="card-content" style="width: ${img_width};">
                                <p class="title is-4">${member.name}</p>
                                ${positions}
                                <div class="buttons">
                                    <button class="button is-info">About Me</button>
                                </div>
                            </div>
                        </div>
                    </section>
                    `;

                // Close the ancestor div every 4th member
                if ((index + 1) % 4 === 0 || (index + 1) === members.length) {
                    html += '</div>';
                }

                index++;
            });

            html+=`</div></div></div>`

            return html;
        }

        // console.log(generateMemberCards(members));


        const memberCardsHTML = generateMemberCards(members, 0);

        // Set the innerHTML of the div with the "columns" class to membersHTML
        document.getElementById('members').innerHTML = memberCardsHTML;


    </script>

</body>

<!-- START FOOTER-->
<footer>
    <div id="includeFooter"></div>
</footer>
<!-- END FOOTER -->

</html>